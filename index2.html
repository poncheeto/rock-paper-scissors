<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
  <style>
    body {
      text-align: center;
      background-color: #755757;
    }
  </style>
</head>

<body>

  <h1>Rock Paper Scissors</h1>
  <main>
    <!-- Buttons for user interface -->
    <div id="container">
      <button id="Rock">Rock</button>
      <button id="Paper">Paper</button>
      <button id="Scissors">Scissors</button>
    </div>

  </main>

  <script>
    function game() {
      let playerScore = 0;
      let computerScore = 0;

      // Randomly picks "rock, paper, or scissors" for the computer
      function computerPlay() {
        var randomNum = Math.floor(Math.random() * 3);
        switch (randomNum) {
          case 0:
            return 'rock'
            break;
          case 1:
            return 'paper'
            break;
          case 2:
            return 'scissors'
        }
      }

      // Takes two parameters and declares winner
      function playRound(e) {
        const playerSelection = e.target.id;
        const computerSelection = computerPlay();
        var lower = playerSelection.toLowerCase();
        var playerUpper = playerSelection[0].toUpperCase() + playerSelection.slice(1).toLowerCase();
        var compUpper = computerSelection[0].toUpperCase() + computerSelection.slice(1).toLowerCase();

        switch (true) {
          case lower == 'rock' && computerSelection == 'rock':
            result = `It's a tie! \nYou: ${playerUpper} | Computer: ${compUpper}`;
            playerWins = false;
            computerWins = false;
            break;
          case lower == 'rock' && computerSelection == 'paper':
            result = `You lose the round! ${compUpper} beats ${playerUpper}`;
            playerWins = false;
            computerWins = true;
            computerScore++;
            break;
          case lower == 'rock' && computerSelection == 'scissors':
            result = `You win the round! ${playerUpper} beats ${compUpper}`;
            playerWins = true;
            computerWins = false;
            playerScore++;
            break;
          case lower == 'paper' && computerSelection == 'paper':
            result = `It's a tie! \nYou: ${playerUpper} | Computer: ${compUpper}`;
            playerWins = false;
            computerWins = false;
            break;
          case lower == 'paper' && computerSelection == 'rock':
            result = `You win the round! ${playerUpper} beats ${compUpper}`;
            playerWins = true;
            computerWins = false;
            playerScore++;
            break;
          case lower == 'paper' && computerSelection == 'scissors':
            result = `You lose the round! ${compUpper} beats ${playerUpper}`;
            playerWins = false;
            computerWins = true;
            computerScore++;
            break;
          case lower == 'scissors' && computerSelection == 'scissors':
            result = `It's a tie! \nYou: ${playerUpper} | Computer: ${compUpper}`;
            playerWins = false;
            computerWins = false;
            break;
          case lower == 'scissors' && computerSelection == 'rock':
            result = `You lose the round! ${compUpper} beats ${playerUpper}`;
            playerWins = false;
            computerWins = true;
            computerScore++;
            break;
          case lower == 'scissors' && computerSelection == 'paper':
            result = `You win the round! ${playerUpper} beats ${compUpper}`;
            playerWins = true;
            computerWins = false;
            playerScore++;
            break;
          case lower != 'rock' || lower != 'paper' || lower != 'scissors':
            result = ("Invalid input");
            return 0;
        }

        // Show results of each round
        const gameInfo = document.querySelector('#container');
        const div = document.createElement('div');
        const pScore = document.createElement('h2');
        const cScore = document.createElement('h2');
        div.textContent = result;
        pScore.textContent = `Player: ${playerScore}`;
        cScore.textContent = `Computer: ${computerScore}`;
        gameInfo.appendChild(div);
        gameInfo.appendChild(pScore);
        gameInfo.appendChild(cScore);

        checkWinner();

        return playerScore, computerScore;

      }

      // Calls playRound function when buttons are pressed
      const buttons = document.querySelectorAll('button');
      buttons.forEach((button) => {
        button.addEventListener('click', playRound);
      });

      // Checks score for winner
      function checkWinner() {
        for (let i = 0; i < 5; i++) {
          switch (true) {
          case playerScore == 5:
             winnerResult = ("*** You win the game! ***");
            break;
          case computerScore == 5:
             winnerResult = ("*** Computer wins the game ***");
            break;
          case playerScore == 5 && computerScore == 5:
             winnerResult = ("*** It's a draw ***");
          }
        }
        const gameInfo = document.querySelector('#container');
        //const div = document.createElement('div');
        const heading = document.createElement('h1');
        //div.appendChild(heading);
        heading.textContent = winnerResult;
        gameInfo.appendChild(heading);
      }
    }
    game();
  </script>
</body>

</html>