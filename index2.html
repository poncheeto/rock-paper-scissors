<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
  <style>
    body {
      text-align: center;
      background-color: #755757;
    }
  </style>
</head>

<body>

  <h1>Rock Paper Scissors</h1>
  <main>
    <!-- Buttons for user interface -->
    <div id="container">
      <button id="Rock">Rock</button>
      <button id="Paper">Paper</button>
      <button id="Scissors">Scissors</button>
    </div>

  </main>

  <script>
    let playerScore = 0;
    let computerScore = 0;
    let playerWins = false;
    let computerWins = false;

    // Randomly picks "rock, paper, or scissors" for the computer
    function computerPlay() {
      let randomNum = Math.floor(Math.random() * 3);
      switch (randomNum) {
        case 0:
          return 'rock'
          break;
        case 1:
          return 'paper'
          break;
        case 2:
          return 'scissors'
      }
    }

    // Takes two parameters and declares winner
    function playRound(e) {
      const playerSelection = e.target.id;
      const computerSelection = computerPlay();
      let lower = playerSelection.toLowerCase();
      let playerUpper = playerSelection[0].toUpperCase() + playerSelection.slice(1).toLowerCase();
      let compUpper = computerSelection[0].toUpperCase() + computerSelection.slice(1).toLowerCase();

      switch (true) {
        case lower == 'rock' && computerSelection == 'rock':
          result = `It's a tie! \nYou: ${playerUpper} | Computer: ${compUpper}`;
          playerWins = false;
          computerWins = false;
          break;
        case lower == 'rock' && computerSelection == 'paper':
          result = `You lose the round! ${compUpper} beats ${playerUpper}`;
          playerWins = false;
          computerWins = true;
          break;
        case lower == 'rock' && computerSelection == 'scissors':
          result = `You win the round! ${playerUpper} beats ${compUpper}`;
          playerWins = true;
          computerWins = false;
          break;
        case lower == 'paper' && computerSelection == 'paper':
          result = `It's a tie! \nYou: ${playerUpper} | Computer: ${compUpper}`;
          playerWins = false;
          computerWins = false;
          break;
        case lower == 'paper' && computerSelection == 'rock':
          result = `You win the round! ${playerUpper} beats ${compUpper}`;
          playerWins = true;
          computerWins = false;
          break;
        case lower == 'paper' && computerSelection == 'scissors':
          result = `You lose the round! ${compUpper} beats ${playerUpper}`;
          playerWins = false;
          computerWins = true;
          break;
        case lower == 'scissors' && computerSelection == 'scissors':
          result = `It's a tie! \nYou: ${playerUpper} | Computer: ${compUpper}`;
          playerWins = false;
          computerWins = false;
          break;
        case lower == 'scissors' && computerSelection == 'rock':
          result = `You lose the round! ${compUpper} beats ${playerUpper}`;
          playerWins = false;
          computerWins = true;
          break;
        case lower == 'scissors' && computerSelection == 'paper':
          result = `You win the round! ${playerUpper} beats ${compUpper}`;
          playerWins = true;
          computerWins = false;
          break;
        case lower != 'rock' || lower != 'paper' || lower != 'scissors':
          result = ("Invalid input");
          return 0;
      }

      // Show results of each round
      const roundResults = document.querySelector('#container');
      const div = document.createElement('div');
      div.textContent = result;
      roundResults.appendChild(div);

      return playerWins, computerWins;

    }

    // Calls playRound function when buttons are pressed
    const buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
      button.addEventListener('click', playRound);
      button.addEventListener('click', game);
    });

    // Plays 5 round game that keeps score
    function game(e) {
      for (let i = 0; i < 5; i++) {
        switch (true) {
          case playerWins:
            playerScore++
            break;
          case computerWins:
            computerScore++
        }
      }

      switch (true) {
        case playerScore > computerScore:
          result = ("*** You win the game! ***");
          //result = ("*** Refresh the page to play again ***");
          break;
        case playerScore < computerScore:
          result = ("*** Computer wins the game ***");
          //result = ("*** Refresh the page to play again ***");
          break;
        case playerScore == computerScore && (playerScore != 0 && computerScore != 0):
          result = ("*** It's a draw ***");
        //console.log("*** Refresh the page to play again ***");
        //default:
        //console.log("Whoops, that's not right...")
      }
      const gameResults = document.querySelector('#container');
      //const div = document.createElement('div');
      const heading = document.createElement('h1');
      //div.appendChild(heading);
      heading.textContent = result;
      gameResults.appendChild(heading);
    }

    game(e);
  </script>
</body>

</html>